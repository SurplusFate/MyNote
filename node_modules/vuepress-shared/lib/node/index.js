"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("@vuepress/utils"),e=require("@vuepress/shared"),n=require("execa"),r=require("fs"),i=require("path"),s=require("ora"),o=require("@vuepress/plugin-git");function a(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var u=a(s);const c="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",l="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",f=(e,n=!1)=>{!n||c.split(",").includes(e)||l.split(",").includes(e)||e!==e.toLowerCase()||e.includes("-")||console.warn(t.chalk.yellow("warning: "),`${e} is used and it’s not a standard tag or standard custom element name`)},d=t=>"[object Object]"===Object.prototype.toString.call(t);function h({find:t,replacement:e}){return"string"==typeof t&&t.endsWith("/")&&e.endsWith("/")&&(t=t.slice(0,t.length-1),e=e.slice(0,e.length-1)),{find:t,replacement:e}}const p=t=>Array.isArray(t)?t.map(h):Object.keys(t).map((e=>h({find:e,replacement:t[e]}))),m=(t=[],e=[])=>[...p(t),...p(e)],g=(t,e,n)=>{const r={...t};for(const t in e){const i=e[t];if(null==i)continue;const s=r[t];if(Array.isArray(s)&&Array.isArray(i))r[t]=[...s,...i];else if(d(s)&&d(i))r[t]=g(s,i,n?`${n}.${t}`:t);else{if(null!=s){if("alias"===t&&("resolve"===n||""===n)){r[t]=m(s,i);continue}if("assetsInclude"===t&&""===n){r[t]=[].concat(s,i);continue}if("noExternal"===t&&!0===s)continue}r[t]=i}}return r},v=(t,e,n=!0)=>g(t,e,n?"":"."),y=(t,...e)=>{if(0===e.length)return t;const n=e.shift()||{};return Object.keys(n).forEach((e=>{"object"!=typeof t[e]||Array.isArray(t[e])||"object"!=typeof n[e]||Array.isArray(n[e])?"object"==typeof n[e]?Array.isArray(n[e])?t[e]=[...n[e]]:t[e]={...n[e]}:t[e]=n[e]:y(t[e],n[e])})),y(t,...e)},$=(...t)=>{if(0===t.length)throw new Error("No param is given");if(1===t.length)return t[0];const e=t.pop(),n=t.pop();return Object.keys(n).forEach((t=>{void 0===e[t]?"object"==typeof n[t]?Array.isArray(n[t])?e[t]=[...n[t]]:e[t]={...n[t]}:e[t]=n[t]:"object"!=typeof e[t]||Array.isArray(e)||"object"!=typeof n[t]||Array.isArray(n[t])||$(n[t],e[t])})),$(...t,e)};"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var D,M={exports:{}},b=M.exports=function(){var t=1e3,e=6e4,n=36e5,r="millisecond",i="second",s="minute",o="hour",a="day",u="week",c="month",l="quarter",f="year",d="date",h="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},v=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},y={s:v,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+v(r,2,"0")+":"+v(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),s=n-i<0,o=e.clone().add(r+(s?-1:1),c);return+(-(r+(n-i)/(s?i-o:o-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:f,w:u,d:a,D:d,h:o,m:s,s:i,ms:r,Q:l}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},$="en",D={};D[$]=g;var M=function(t){return t instanceof S},b=function t(e,n,r){var i;if(!e)return $;if("string"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var o=e.split("-");if(!i&&o.length>1)return t(o[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&($=i),i||!r&&$},x=function(t,e){if(M(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new S(n)},w=y;w.l=b,w.i=M,w.w=function(t,e){return x(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var S=function(){function g(t){this.$L=b(t.locale,null,!0),this.parse(t)}var v=g.prototype;return v.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(w.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(p);if(r){var i=r[2]-1||0,s=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},v.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},v.$utils=function(){return w},v.isValid=function(){return!(this.$d.toString()===h)},v.isSame=function(t,e){var n=x(t);return this.startOf(e)<=n&&n<=this.endOf(e)},v.isAfter=function(t,e){return x(t)<this.startOf(e)},v.isBefore=function(t,e){return this.endOf(e)<x(t)},v.$g=function(t,e,n){return w.u(t)?this[e]:this.set(n,t)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(t,e){var n=this,r=!!w.u(e)||e,l=w.p(t),h=function(t,e){var i=w.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},p=function(t,e){return w.w(n.toDate()[t].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},m=this.$W,g=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(l){case f:return r?h(1,0):h(31,11);case c:return r?h(1,g):h(0,g+1);case u:var $=this.$locale().weekStart||0,D=(m<$?m+7:m)-$;return h(r?v-D:v+(6-D),g);case a:case d:return p(y+"Hours",0);case o:return p(y+"Minutes",1);case s:return p(y+"Seconds",2);case i:return p(y+"Milliseconds",3);default:return this.clone()}},v.endOf=function(t){return this.startOf(t,!1)},v.$set=function(t,e){var n,u=w.p(t),l="set"+(this.$u?"UTC":""),h=(n={},n[a]=l+"Date",n[d]=l+"Date",n[c]=l+"Month",n[f]=l+"FullYear",n[o]=l+"Hours",n[s]=l+"Minutes",n[i]=l+"Seconds",n[r]=l+"Milliseconds",n)[u],p=u===a?this.$D+(e-this.$W):e;if(u===c||u===f){var m=this.clone().set(d,1);m.$d[h](p),m.init(),this.$d=m.set(d,Math.min(this.$D,m.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},v.set=function(t,e){return this.clone().$set(t,e)},v.get=function(t){return this[w.p(t)]()},v.add=function(r,l){var d,h=this;r=Number(r);var p=w.p(l),m=function(t){var e=x(h);return w.w(e.date(e.date()+Math.round(t*r)),h)};if(p===c)return this.set(c,this.$M+r);if(p===f)return this.set(f,this.$y+r);if(p===a)return m(1);if(p===u)return m(7);var g=(d={},d[s]=e,d[o]=n,d[i]=t,d)[p]||1,v=this.$d.getTime()+r*g;return w.w(v,this)},v.subtract=function(t,e){return this.add(-1*t,e)},v.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=w.z(this),s=this.$H,o=this.$m,a=this.$M,u=n.weekdays,c=n.months,l=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},f=function(t){return w.s(s%12||12,t,"0")},d=n.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:w.s(a+1,2,"0"),MMM:l(n.monthsShort,a,c,3),MMMM:l(c,a),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:l(n.weekdaysMin,this.$W,u,2),ddd:l(n.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(s),HH:w.s(s,2,"0"),h:f(1),hh:f(2),a:d(s,o,!0),A:d(s,o,!1),m:String(o),mm:w.s(o,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:i};return r.replace(m,(function(t,e){return e||p[t]||i.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(r,d,h){var p,m=w.p(d),g=x(r),v=(g.utcOffset()-this.utcOffset())*e,y=this-g,$=w.m(this,g);return $=(p={},p[f]=$/12,p[c]=$,p[l]=$/3,p[u]=(y-v)/6048e5,p[a]=(y-v)/864e5,p[o]=y/n,p[s]=y/e,p[i]=y/t,p)[m]||y,h?$:w.a($)},v.daysInMonth=function(){return this.endOf(c).$D},v.$locale=function(){return D[this.$L]},v.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=b(t,e,!0);return r&&(n.$L=r),n},v.clone=function(){return w.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},g}(),O=S.prototype;return x.prototype=O,[["$ms",r],["$s",i],["$m",s],["$H",o],["$W",a],["$M",c],["$y",f],["$D",d]].forEach((function(t){O[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),x.extend=function(t,e){return t.$i||(t(e,S,x),t.$i=!0),x},x.locale=b,x.isDayjs=M,x.unix=function(t){return x(1e3*t)},x.en=D[$],x.Ls=D,x.p={},x}(),x={exports:{}},w=x.exports=(D={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},function(t,e,n){var r=e.prototype,i=r.format;n.en.formats=D,r.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var e=this.$locale().formats,n=function(t,e){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var i=r&&r.toUpperCase();return n||e[r]||D[r]||e[i].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,n){return e||n.slice(1)}))}))}(t,void 0===e?{}:e);return i.call(this,n)}}),S={exports:{}},O=S.exports=function(t,e,n){var r=e.prototype,i=function(t){var e,i=t.date,s=t.utc,o={};if(!((e=i)instanceof Date)&&!(e instanceof Array)&&e instanceof Object){if(!Object.keys(i).length)return new Date;var a=s?n.utc():n();Object.keys(i).forEach((function(t){var e,n;o[(e=t,n=r.$utils().p(e),"date"===n?"day":n)]=i[t]}));var u=o.day||(o.year||o.month>=0?1:a.date()),c=o.year||a.year(),l=o.month>=0?o.month:o.year||o.day?0:a.month(),f=o.hour||0,d=o.minute||0,h=o.second||0,p=o.millisecond||0;return s?new Date(Date.UTC(c,l,u,f,d,h,p)):new Date(c,l,u,f,d,h,p)}return i},s=r.parse;r.parse=function(t){t.date=i.bind(this)(t),s.bind(this)(t)};var o=r.set,a=r.add,u=function(t,e,n,r){if(void 0===r&&(r=1),e instanceof Object){var i=Object.keys(e),s=this;return i.forEach((function(n){s=t.bind(s)(e[n]*r,n)})),s}return t.bind(this)(e*r,n)};r.set=function(t,e){return e=void 0===e?t:e,u.bind(this)((function(t,e){return o.bind(this)(e,t)}),e,t)},r.add=function(t,e){return u.bind(this)(a,t,e)},r.subtract=function(t,e){return u.bind(this)(a,t,e,-1)}},_={exports:{}},Y=_.exports=function(){var t={year:0,month:1,day:2,hour:3,minute:4,second:5},e={};return function(n,r,i){var s,o=function(t,n,r){void 0===r&&(r={});var i=new Date(t),s=function(t,n){void 0===n&&(n={});var r=n.timeZoneName||"short",i=t+"|"+r,s=e[i];return s||(s=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:r}),e[i]=s),s}(n,r);return s.formatToParts(i)},a=function(e,n){for(var r=o(e,n),s=[],a=0;a<r.length;a+=1){var u=r[a],c=u.type,l=u.value,f=t[c];f>=0&&(s[f]=parseInt(l,10))}var d=s[3],h=24===d?0:d,p=s[0]+"-"+s[1]+"-"+s[2]+" "+h+":"+s[4]+":"+s[5]+":000",m=+e;return(i.utc(p).valueOf()-(m-=m%1e3))/6e4},u=r.prototype;u.tz=function(t,e){void 0===t&&(t=s);var n=this.utcOffset(),r=this.toDate(),o=r.toLocaleString("en-US",{timeZone:t}),a=Math.round((r-new Date(o))/1e3/60),u=i(o).$set("millisecond",this.$ms).utcOffset(15*-Math.round(r.getTimezoneOffset()/15)-a,!0);if(e){var c=u.utcOffset();u=u.add(n-c,"minute")}return u.$x.$timezone=t,u},u.offsetName=function(t){var e=this.$x.$timezone||i.tz.guess(),n=o(this.valueOf(),e,{timeZoneName:t}).find((function(t){return"timezonename"===t.type.toLowerCase()}));return n&&n.value};var c=u.startOf;u.startOf=function(t,e){if(!this.$x||!this.$x.$timezone)return c.call(this,t,e);var n=i(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return c.call(n,t,e).tz(this.$x.$timezone,!0)},i.tz=function(t,e,n){var r=n&&e,o=n||e||s,u=a(+i(),o);if("string"!=typeof t)return i(t).tz(o);var c=function(t,e,n){var r=t-60*e*1e3,i=a(r,n);if(e===i)return[r,e];var s=a(r-=60*(i-e)*1e3,n);return i===s?[r,i]:[t-60*Math.min(i,s)*1e3,Math.max(i,s)]}(i.utc(t,r).valueOf(),u,o),l=c[0],f=c[1],d=i(l).utcOffset(f);return d.$x.$timezone=o,d},i.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},i.tz.setDefault=function(t){s=t}}}(),L={exports:{}},T=L.exports=function(){var t="minute",e=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(r,i,s){var o=i.prototype;s.utc=function(t){return new i({date:t,utc:!0,args:arguments})},o.utc=function(e){var n=s(this.toDate(),{locale:this.$L,utc:!0});return e?n.add(this.utcOffset(),t):n},o.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var a=o.parse;o.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),a.call(this,t)};var u=o.init;o.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else u.call(this)};var c=o.utcOffset;o.utcOffset=function(r,i){var s=this.$utils().u;if(s(r))return this.$u?0:s(this.$offset)?c.call(this):this.$offset;if("string"==typeof r&&(r=function(t){void 0===t&&(t="");var r=t.match(e);if(!r)return null;var i=(""+r[0]).match(n)||["-",0,0],s=i[0],o=60*+i[1]+ +i[2];return 0===o?0:"+"===s?o:-o}(r),null===r))return this;var o=Math.abs(r)<=16?60*r:r,a=this;if(i)return a.$offset=o,a.$u=0===r,a;if(0!==r){var u=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(a=this.local().add(o+u,t)).$offset=o,a.$x.$localOffset=u}else a=this.utc();return a};var l=o.format;o.format=function(t){var e=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return l.call(this,e)},o.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*t},o.isUTC=function(){return!!this.$u},o.toISOString=function(){return this.toDate().toISOString()},o.toString=function(){return this.toDate().toUTCString()};var f=o.toDate;o.toDate=function(t){return"s"===t&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():f.call(this)};var d=o.diff;o.diff=function(t,e,n){if(t&&this.$u===t.$u)return d.call(this,t,e,n);var r=this.local(),i=s(t).local();return d.call(r,i,e,n)}}}();b.extend(w),b.extend(O),b.extend(T),b.extend(Y);const A={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:(t,e)=>"W"===e?`${t}周`:`${t}日`,weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:(t,e)=>{const n=100*t+e;return n<600?"凌晨":n<900?"早上":n<1100?"上午":n<1300?"中午":n<1800?"下午":"晚上"}},k={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")};b.locale("zh",A),b.locale("en",k);const z=b,C=(t,e={})=>{const{lang:n,timezone:r,type:i}=e;z.locale(((t="en")=>{const e=t.toLowerCase();return"zh"===e||"zh-cn"===e?"zh":("en-us"===e||"en-uk"===e||"en"===e||console.warn(`${t} locale missing in config`),"en")})(n));const s=r?z(t).tz(r).format("LL"):z(t).format("LL"),o=r?z(t).tz(r).format("HH:mm"):z(t).format("HH:mm");return"date"===i?s:"time"===i?o:`${s} ${o}`},I=(t,e={})=>{const{timezone:n}=e;if(t){if(z(t instanceof Date?t:t.trim()).isValid()){const r=n?z(t).tz(n):z(t),i=r.year(),s=r.month()+1,o=r.date(),a=r.hour(),u=r.minute(),c=r.second(),l=r.millisecond(),f=0===a&&0===u&&0===c&&0===l,d=r.toDate();return{display:C(d,{type:f?"date":"full",...e}),value:d,detail:{year:i,month:s,day:o,...f?{}:{hour:a,minute:u,second:c}}}}const r=/(?:(\d{2,4})[/-](\d{1,2})[/-](\d{1,2}))?\s*(?:(\d{1,2}):(\d{1,2})(?::(\d{1,2}))?)?/u.exec(t.trim());if(r){const[,t,n,i,s,o,a]=r,u=t=>void 0===t?void 0:Number(t),c=t=>s&&o&&!a?0:t,l={year:(t=>t&&t<100?t+2e3:t)(u(t)),month:u(n),day:u(i),hour:u(s),minute:u(o),second:c(u(a))},f=void 0===t&&void 0===n&&void 0===i,d=void 0===s&&void 0===o&&void 0===a,h=z({...l,month:l.month-1}).toDate();return{display:C(h,{type:d?"date":f?"time":"full",...e}),value:f?void 0:h,detail:d?{year:l.year,month:l.month,day:l.day}:f?{hour:l.hour,minute:l.minute,second:l.second}:l}}}return null},H=new Map,j=new Map,U=t=>{const e=`global:${t}`,r=H.get(e);return void 0!==r?r:!!(t=>{try{return 0===n.sync(`${t} --version`,{stdio:"ignore"}).exitCode}catch(t){return!1}})(t)&&(H.set(e,!0),!0)},E=(t=process.cwd(),e=!0)=>{const n=`local:${t}`,s=j.get(n);if(void 0!==s)return s;if(r.existsSync(i.resolve(t,"pnpm-lock.yaml")))return j.set(n,"pnpm"),"pnpm";if(r.existsSync(i.resolve(t,"yarn.lock")))return j.set(n,"yarn"),"yarn";if(r.existsSync(i.resolve(t,"package-lock.json")))return j.set(n,"npm"),"npm";let o=t;for(;e&&o!==i.dirname(o);){if(o=i.dirname(o),r.existsSync(i.resolve(o,"pnpm-lock.yaml")))return j.set(n,"pnpm"),"pnpm";if(r.existsSync(i.resolve(o,"yarn.lock")))return j.set(n,"yarn"),"yarn";if(r.existsSync(i.resolve(o,"package-lock.json")))return j.set(n,"npm"),"npm"}return null},P=(t=process.cwd(),e=!0)=>E(t,e)||(U("pnpm")?"pnpm":U("yarn")?"yarn":"npm"),W={"en-US":"/en/","zh-CN":"/zh/","zh-TW":"/zh-tw/","de-AT":"/de/","vi-VN":"/vi/","ru-RU":"/ru/","uk-UA":"/uk/","pt-BR":"/br/","pl-PL":"/pl/","fr-FR":"/fr/","sk-SK":"/sk/","es-ES":"/es/"},N=Object.keys(W),F=Object.fromEntries(N.map((t=>[W[t],t])));class Z{constructor(t=""){this.name=t,this.currentInstance=u.default()}create(e){return this.currentInstance=u.default({prefixText:t.chalk.blue(`${this.name}: `)||"",text:e}),this.currentInstance}update(t){this.currentInstance?this.currentInstance.text=t:this.create(t)}load(t=""){return(!t&&this.currentInstance?this.currentInstance:this.create(t)).start()}info(t=""){return(!t&&this.currentInstance?this.currentInstance:this.create(t)).info()}succeed(t=""){return(!t&&this.currentInstance?this.currentInstance:this.create(t)).succeed()}warn(t=""){return(!t&&this.currentInstance?this.currentInstance:this.create(t)).warn()}error(t=""){return(!t&&this.currentInstance?this.currentInstance:this.create(t)).fail()}}const q={},B=(t="",e=!1)=>t in W?W[t]:(e&&console.warn(`${t} has no path config, and will return '/' instead.`),"/"),V=t=>{const e=t.siteData.locales;return e?.["/"]&&e["/"]?.lang?e["/"].lang:t.siteData.lang},G=t=>B(V(t),t.env.isDebug),R=t=>Array.from(new Set([...Object.keys(t.siteData.locales)])),J=t=>" "===t||"\n"===t||"\r"===t||"\t"===t;class Q{consume(t,e){return"<"===t?(e(new K),""):t}}class K{constructor(){this.nameBuffer=""}consume(t,e){if(0===this.nameBuffer.length){if(J(t))return e(new Q),"<"+t;if("/"===t)return""}return J(t)?(e(new X(1)),""):"<"===t?(this.nameBuffer+="&lt;",""):">"===t?(e(new Q),""):"-"===t&&"!-"===this.nameBuffer?(e(new et),""):(this.nameBuffer+=t,"")}}class X{constructor(t){this.mode=t}consume(t,e){return">"===t?e(new Q):(t=>'"'===t||"'"===t)(t)&&e(new tt(this.mode,t)),1===this.mode?"":"<"===t?"&lt;":t}}class tt{constructor(t,e){this.mode=t,this.quoteCharacter=e}consume(t,e){return t===this.quoteCharacter&&e(new X(this.mode)),1===this.mode?"":"<"===t?"&lt;":">"===t?"&gt;":t}}class et{constructor(){this.consecutiveHyphens=0}consume(t,e){return">"===t&&this.consecutiveHyphens>=2?e(new Q):"-"===t?this.consecutiveHyphens++:this.consecutiveHyphens=0,""}}class nt{constructor(){this.state=new Q,this.transitionFunction=t=>{this.state=t}}consume(t){let e="";for(const n of t)e+=this.state.consume(n,this.transitionFunction);return e}}exports.InCommentState=et,exports.InPlaintextState=Q,exports.InQuotedStringInTagState=tt,exports.InTagNameState=K,exports.InTagState=X,exports.Logger=Z,exports.StateMachine=nt,exports.addCustomElement=({app:t,config:e},n)=>{const r="string"==typeof n?[n]:n,{bundler:i}=t.options;if(i.name.endsWith("vite")){const n=e;n.vuePluginOptions||(n.vuePluginOptions={}),n.vuePluginOptions.template||(n.vuePluginOptions.template={}),n.vuePluginOptions.template.compilerOptions||(n.vuePluginOptions.template.compilerOptions={});const{isCustomElement:i=(e=>f(e,t.env.isDebug))}=n.vuePluginOptions.template.compilerOptions;n.vuePluginOptions.template.compilerOptions.isCustomElement=t=>!!r.includes(t)||i(t)}if(i.name.endsWith("webpack")){const n=e;n.vue||(n.vue={}),n.vue.compilerOptions||(n.vue.compilerOptions={});const{isCustomElement:i=(e=>f(e,t.env.isDebug))}=n.vue.compilerOptions;n.vue.compilerOptions.isCustomElement=t=>!!r.includes(t)||i(t)}},exports.addViteOptimizeDepsExclude=({app:t,config:e},n)=>{const{bundler:r}=t.options;if(r.name.endsWith("vite")){const t=e;t.viteOptions=v(t.viteOptions,{optimizeDeps:{exclude:"string"==typeof n?[n]:n}}),t.viteOptions.optimizeDeps.exclude=Array.from(new Set(t.viteOptions.optimizeDeps.exclude))}},exports.addViteOptimizeDepsInclude=({app:t,config:e},n)=>{const{bundler:r}=t.options,i=P();if(r.name.endsWith("vite")&&("OPTIMIZE_DEPS"in process.env?Boolean(process.env.OPTIMIZE_DEPS):"pnpm"!==i)){const t=e;t.viteOptions=v(t.viteOptions,{optimizeDeps:{include:"string"==typeof n?[n]:n}}),t.viteOptions.optimizeDeps.include=Array.from(new Set(t.viteOptions.optimizeDeps.include))}},exports.addViteSsrExternal=({app:t,config:e},n)=>{const{bundler:r}=t.options;if(r.name.endsWith("vite")){const t=e;t.viteOptions=v(t.viteOptions,{ssr:{external:"string"==typeof n?[n]:n}})}},exports.addViteSsrNoExternal=({app:t,config:e},n)=>{const{bundler:r}=t.options;if(r.name.endsWith("vite")){const t=e;t.viteOptions=v(t.viteOptions,{ssr:{noExternal:"string"==typeof n?[n]:n}})}},exports.checkLang=(t="")=>N.includes(t),exports.compareDate=(t,e)=>{const n=I("number"==typeof t?new Date(t):t),r=I("number"==typeof e?new Date(e):e);return n&&n.value?r&&r.value?r.value.getTime()-n.value.getTime():-1:1},exports.deepAssign=y,exports.deepAssignReverse=$,exports.detectPackageManager=P,exports.encodeCDATA=t=>t.replace(/]]>/g,"]]]]><![CDATA[>"),exports.encodeXML=t=>t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"),exports.getAuthor=(t,e=!1)=>t?Array.isArray(t)?t.map((t=>"string"==typeof t?{name:t}:t)):"string"==typeof t?[{name:t}]:"object"==typeof t&&t.name?[t]:(console.error(`Expect 'author' to be \`AuthorInfo[] | AuthorInfo | string[] | string ${e?"":"| false"} | undefined\`, but got`,t),[]):[],exports.getCategory=t=>{if(t){if(Array.isArray(t))return t;if("string"==typeof t)return[t];console.error("Expect 'category' to be `string[] | string | undefined`, but got",t)}return[]},exports.getDate=I,exports.getLocalePaths=R,exports.getLocales=({app:t,name:e,default:n,config:r={}})=>{const i=G(t),s=new Z(e);return Object.fromEntries([...R(t).filter((t=>"/"!==t)).map((t=>(n[t]||s.warn(`Locale ${t} is missing it's i18n config`),[t,y({},n[t]||n[i]||{},r[t]||{})]))),["/",y({},n[i],r["/"]||r[i]||{})]])},exports.getRootLang=V,exports.getRootLangPath=G,exports.getTag=t=>{if(t){if(Array.isArray(t))return t;if("string"==typeof t)return[t];console.error("Expect 'tag' to be `string[] | string | undefined`, but got",t)}return[]},exports.getTypeofLockFile=E,exports.hasGlobalInstallation=U,exports.injectLocalizedDate=(t,e)=>{if(!t.data.localizedDate)if(t.frontmatter.date){const n=I(t.frontmatter.date,e)?.value;n&&(t.data.localizedDate=C(n,e))}else t.data.git?.createdTime&&(t.data.localizedDate=C(new Date(t.data.git?.createdTime),e))},exports.isAbsoluteUrl=t=>t.startsWith("/"),exports.isUrl=t=>{if("string"!=typeof t||""===t)return!1;const e=/^(?:\w+:)?\/\/(\S+)$/u.exec(t);if(!e)return!1;const n=e[1];return!!n&&(/^localhost[:?\d]*(?:[^:?\d]\S*)?$/u.test(n)||/^[^\s.]+\.\S{2,}$/u.test(n))},exports.lang2Path=B,exports.mergeViteConfig=v,exports.noopModule="vuepress-shared/lib/client/noopModule.js",exports.path2Lang=(t="",e=!1)=>t in F?F[t]:(e&&console.warn(`${t} isn’t assign with a lang, and will return 'en-US' instead.`),"en-US"),exports.removeGitPlugin=t=>{const e=t.pluginApi.plugins.findIndex((t=>"@vuepress/plugin-git"===t.name));-1!==e&&t.pluginApi.plugins.splice(e,1)},exports.showLangError=(t,e="")=>{q[t]||(console.warn(`${t} locates config is missing, and will return 'en-US' instead.\n${"root"===t?"":`You can contribute to https://github.com/vuepress-theme-hope/vuepress-theme-hope/blob/main/packages/${e||"<YOUR PLUGIN>"}/src/node/locales.ts in this repository.\n`}Note: This warning will be shown only once`),q[t]=!0)},exports.stripTags=(t="")=>t?(new nt).consume(t):"",exports.tagHint=f,exports.timeTransformer=C,exports.useCustomDevServer=(t,n,r,i,s="The server encounted an error")=>{const{base:o,bundler:a}=n.options;if(n.env.isDev&&a.name.endsWith("vite")){const n=t,a=(t,e)=>{i(t).then((t=>{e.statusCode=200,e.end(t)})).catch((()=>{e.statusCode=500,e.end(s)}))},u={name:`virtual:devserver-mock/${r}`,configureServer:({middlewares:t})=>{t.use(`${e.removeLeadingSlash(o)}${r}`,a)}};n.viteOptions=v(n.viteOptions,{plugins:[u]})}if(n.env.isDev&&a.name.endsWith("webpack")){const n=t,{devServerSetupMiddlewares:a}=n;n.devServerSetupMiddlewares=(t,n)=>(n.app?.get(`${e.removeEndingSlash(o)}${r}`,((t,e)=>{i(t).then((t=>e.status(200).send(t))).catch((()=>e.status(500).send(s)))})),a?a(t,n):t)}},exports.useGitPlugin=(t,e)=>{t.pluginApi.plugins.every((t=>"@vuepress/plugin-git"!==t.name))&&e&&t.use(o.gitPlugin(e))};
//# sourceMappingURL=index.js.map
